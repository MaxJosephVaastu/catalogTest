(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),c=a(13),l=a(10),i=a(11),s=a(16),u=a(15),d=a(17),m=a(126),g=a(131),f=a(129),E=a(123),p=a(75),O=a(28),b=a(128),h=a(127),y=a(76),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).submitHandler=function(e){e.preventDefault();var t=e.currentTarget;t.className+=" was-validated",!0===t.checkValidity()&&a.props.login()},a.changeHandler=function(e){a.setState(Object(O.a)({},e.target.name,e.target.value))},a.state={login:"",password:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,{show:this.props.show,onHide:this.props.closeModal,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(h.a,{onSubmit:this.submitHandler,noValidate:!0},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f")),r.a.createElement(b.a.Body,null,r.a.createElement(h.a.Group,{controlId:"formLogin"},r.a.createElement(h.a.Label,null,"\u041b\u043e\u0433\u0438\u043d"),r.a.createElement(h.a.Control,{name:"login",type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",value:this.state.login,onChange:this.changeHandler,required:!0}),r.a.createElement(h.a.Control.Feedback,{type:"invalid"},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u044d\u0442\u043e \u043f\u043e\u043b\u0435")),r.a.createElement(h.a.Group,{controlId:"formPassword"},r.a.createElement(h.a.Label,null,"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(h.a.Control,{name:"password",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:this.state.password,onChange:this.changeHandler,required:!0}),r.a.createElement(h.a.Control.Feedback,{type:"invalid"},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u044d\u0442\u043e \u043f\u043e\u043b\u0435"))),r.a.createElement(b.a.Footer,null,r.a.createElement(y.a,{type:"submit"},"\u0412\u043e\u0439\u0442\u0438"))))}}]),t}(r.a.Component),v=a(132),j=function(){function e(){Object(l.a)(this,e),this.init()}return Object(i.a)(e,[{key:"init",value:function(e,t){if(localStorage.getItem("goods"))"function"===typeof e&&e("success");else{try{localStorage.setItem("goods",JSON.stringify({0:{name:'\u0441\u044b\u0440 "\u0427\u0435\u0434\u0434\u0430\u0440"',price:"300",expirationDate:"20.10.2019",category:"1"},1:{name:"\u0419\u043e\u0433\u0443\u0440\u0442",price:"60",expirationDate:"10.11.2019",category:"1"},2:{name:"\u0420\u0438\u0441 \u0431\u0430\u0441\u043c\u0430\u0442\u0438, 1\u043a\u0433",price:"120",expirationDate:"20.08.2021",category:"2"}})),localStorage.setItem("categories",JSON.stringify({0:{name:"\u041f\u0440\u043e\u0447\u0435\u0435"},1:{name:"\u041a\u0438\u0441\u043b\u043e\u043c\u043e\u043b\u043e\u0447\u043d\u044b\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"},2:{name:"\u041a\u0440\u0443\u043f\u044b"},3:{name:"\u041c\u0430\u043a\u0430\u0440\u043e\u043d\u043d\u044b\u0435 \u0438\u0437\u0434\u0435\u043b\u0438\u044f"},4:{name:"\u0420\u0430\u0441\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0430\u0441\u043b\u0430"}})),"function"===typeof e&&e("success")}catch(a){"function"===typeof t&&t("Error in getCategories: "+a.message)}}}},{key:"getCategories",value:function(e,t){try{var a=JSON.parse(localStorage.getItem("categories"));"function"===typeof e&&e(a)}catch(n){"function"===typeof t&&t("Error in getCategories: "+n.message)}}},{key:"getGoods",value:function(e,t){try{var a=JSON.parse(localStorage.getItem("goods"));"function"===typeof e&&e(a)}catch(n){"function"===typeof t&&t("Error in getGoods: "+n.message)}}},{key:"addProd",value:function(e,t,a){this.getGoods(function(n){n[Number(Object.keys(n)[Object.keys(n).length-1])+1]=e;try{localStorage.setItem("goods",JSON.stringify(n)),"function"===typeof t&&t(n)}catch(r){"function"===typeof a&&a("Error in addProd: "+r.message)}})}},{key:"addCat",value:function(e,t,a){this.getCategories(function(n){n[Number(Object.keys(n)[Object.keys(n).length-1])+1]=e;try{localStorage.setItem("categories",JSON.stringify(n)),"function"===typeof t&&t(n)}catch(r){"function"===typeof a&&a("Error in addCat: "+r.message)}})}},{key:"saveCat",value:function(e,t,a,n){this.getCategories(function(r){r[e]=t;try{localStorage.setItem("categories",JSON.stringify(r)),"function"===typeof a&&a(r)}catch(o){"function"===typeof n&&n("Error in saveCat: "+o.message)}})}},{key:"saveProd",value:function(e,t,a,n){this.getGoods(function(r){r[e]=t;try{localStorage.setItem("goods",JSON.stringify(r)),"function"===typeof a&&a(r)}catch(o){"function"===typeof n&&n("Error in saveProd: "+o.message)}})}},{key:"delProd",value:function(e,t,a){this.getGoods(function(n){delete n[e];try{localStorage.setItem("goods",JSON.stringify(n)),"function"===typeof t&&t(n)}catch(r){"function"===typeof a&&a("Error in delProd: "+r.message)}})}},{key:"delCat",value:function(e,t,a){var n=this;this.getCategories(function(r){if(1!==Object.keys(r).length||"function"!==typeof a){delete r[e];try{localStorage.setItem("categories",JSON.stringify(r)),n.getGoods(function(a){var n=Object.keys(r)[0];for(var o in a)a.hasOwnProperty(o)&&a[o].category===e&&(a[o].category=n);localStorage.setItem("goods",JSON.stringify(a)),"function"===typeof t&&t({cats:r,goods:a})})}catch(o){"function"===typeof a&&a("Error in delCat: "+o.message)}}else a("\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f!")})}}]),e}(),I="LOGIN_REQUEST",S="LOGOUT",k="NEW_CATEGORY",D="NEW_PRODUCT",_="CLOSE_MODAL",T="OPEN_MODAL",w="SHOW_PRODUCT",P="SHOW_CATEGORY",A="GET_CATEGORIES_SUCCESS",L="GET_GOODS_SUCCESS",G="ADD_PRODUCT_SUCCESS",R="ADD_CATEGORY_SUCCESS",U="SAVE_PRODUCT_SUCCESS",x="SAVE_CATEGORY_SUCCESS",N="DEL_PRODUCT_SUCCESS",H="DEL_CATEGORY_SUCCESS",M=Object(v.a)("API_INIT"),V=Object(v.a)(I),F=Object(v.a)(w),Y=Object(v.a)(P),J=Object(v.a)(T),B=Object(v.a)(_),Q=Object(v.a)(S),z=Object(v.a)(k),W=Object(v.a)(D),q=Object(v.a)("GET_CATEGORIES_REQUEST"),K=Object(v.a)(A),$=Object(v.a)("GET_CATEGORIES_FAIL"),X=Object(v.a)("GET_GOODS_REQUEST"),Z=Object(v.a)(L),ee=Object(v.a)("GET_GOODS_FAIL"),te=Object(v.a)("ADD_PRODUCT_REQUEST"),ae=Object(v.a)(G),ne=Object(v.a)("ADD_PRODUCT_FAIL"),re=Object(v.a)("ADD_CATEGORY_REQUEST"),oe=Object(v.a)(R),ce=Object(v.a)("ADD_CATEGORY_FAIL"),le=Object(v.a)("SAVE_PRODUCT_REQUEST"),ie=Object(v.a)(U),se=Object(v.a)("SAVE_PRODUCT_FAIL"),ue=Object(v.a)("SAVE_CATEGORY_REQUEST"),de=Object(v.a)(x),me=Object(v.a)("SAVE_CATEGORY_FAIL"),ge=Object(v.a)("DEL_PRODUCT_REQUEST"),fe=Object(v.a)(N),Ee=Object(v.a)("DEL_PRODUCT_FAIL"),pe=Object(v.a)("DEL_CATEGORY_REQUEST"),Oe=Object(v.a)(H),be=Object(v.a)("DEL_CATEGORY_FAIL"),he=new j;function ye(){return function(e){he.init(function(){e(M()),e(function(e){e(X()),he.getGoods(function(t){e(Z(t))},function(t){e(ee(t))})}),e(function(e){e(q()),he.getCategories(function(t){e(K(t))},function(t){e($(t))})})},function(){})}}var Ce=Object(c.b)(function(e){return{modal:e.page.modal,categories:e.page.categories,goods:e.page.goods,currentProdId:e.page.currentProdId}},function(e){return{closeModal:function(){e(B())},login:function(){e(B()),e(V())}}})(C),ve=a(22),je=a(62),Ie=a.n(je),Se=a(133),ke=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).submitHandler=function(e){e.preventDefault();var t=a.state,n=t.dateIsValid,r=t.priceIsValid,o=t.nameIsValid;if(e.currentTarget.className+=" was-validated",o&&n&&r){var c=a.state,l=c.currentProdId,i=c.name,s=c.price,u=c.expirationDate,d=c.category;l?a.props.saveProduct(l,{name:i,price:s,expirationDate:u,category:d}):a.props.addProduct({name:i,price:s,expirationDate:u,category:d})}},a.changeHandler=function(e){var t=e.target.name,n=e.target.value;switch(t){case"expirationDate":var r=n.split(".");r.length<3&&(a.setState({dateIsValid:!1}),a.setState(Object(O.a)({},t,n)));var o=new Date(r[2],r[1]-1,r[0]);(new Date).getTime()>=o.getTime()?a.setState({dateIsValid:!1}):a.setState({dateIsValid:!0});break;case"price":a.setState({priceIsValid:Number(n)>0});break;case"name":a.setState({nameIsValid:n.length>=5&&n.length<=40})}a.setState(Object(O.a)({},t,n))},a.state={show:!1,name:"",price:"",expirationDate:"",category:"",dateIsValid:!0,priceIsValid:!0,nameIsValid:!0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.categories,n=t.currentProdId,o=t.category,c=t.dateIsValid,l=t.priceIsValid,i=t.nameIsValid;return r.a.createElement(b.a,{show:this.state.show,onHide:this.props.closeModal,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(h.a,{noValidate:!0},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},n?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u0430":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430")),r.a.createElement(b.a.Body,null,r.a.createElement(h.a.Group,{as:E.a,controlId:"formName"},r.a.createElement(h.a.Label,{column:!0,sm:4},"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(p.a,{sm:8},r.a.createElement(h.a.Control,{name:"name",type:"text",value:this.state.name,onChange:this.changeHandler,isInvalid:!i}),r.a.createElement(h.a.Control.Feedback,{type:"invalid"},"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432, \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 40"))),r.a.createElement(h.a.Group,{as:E.a,controlId:"formPrice"},r.a.createElement(h.a.Label,{column:!0,sm:4},"\u0426\u0435\u043d\u0430"),r.a.createElement(p.a,{sm:8},r.a.createElement(h.a.Control,{name:"price",type:"text",value:this.state.price,onChange:this.changeHandler,isInvalid:!l}),r.a.createElement(h.a.Control.Feedback,{type:"invalid"},"\u0426\u0435\u043d\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 0"))),r.a.createElement(h.a.Group,{as:E.a,controlId:"formDate"},r.a.createElement(h.a.Label,{column:!0,sm:4},"\u0426\u0435\u043d\u0430"),r.a.createElement(p.a,{sm:8},r.a.createElement(h.a.Control,{name:"expirationDate",type:"text",value:this.state.expirationDate,onChange:this.changeHandler,isInvalid:!c}),r.a.createElement(h.a.Control.Feedback,{type:"invalid"},"\u0414\u0430\u0442\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c ",Ie()(Date.now()).format("DD.MM.YYYY")))),r.a.createElement(E.a,null,r.a.createElement(h.a.Label,{column:!0,sm:4},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),r.a.createElement(p.a,{sm:8},r.a.createElement(Se.a,null,r.a.createElement(Se.a.Toggle,{variant:"outline-secondary",id:"dropdown-basic"},a&&a[o]&&a[o].name),r.a.createElement(Se.a.Menu,null,a&&Object.keys(a).map(function(t){return r.a.createElement(Se.a.Item,{key:t,onClick:function(){e.setState({category:t})}},a[t].name)})))))),r.a.createElement(b.a.Footer,null,r.a.createElement(y.a,{onClick:this.submitHandler},n?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(y.a,{variant:"light",onClick:this.props.closeModal},"\u041e\u0442\u043c\u0435\u043d\u0430"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.show===e.show&&t.show)return null;var a=e.currentProdId?e.goods[e.currentProdId]:{name:"",price:"",expirationDate:Ie()(Date.now()).format("DD.MM.YYYY"),category:"0"};return Object(ve.a)({show:e.show,categories:e.categories,currentProdId:e.currentProdId},a)}}]),t}(r.a.Component),De=Object(c.b)(function(e){return{modal:e.page.modal,categories:e.page.categories,goods:e.page.goods,currentProdId:e.page.currentProdId,newProd:e.page.newProd}},function(e){return{closeModal:function(){e(B())},saveProduct:function(t,a){e(B()),e(function(e,t){return function(a){a(le()),he.saveProd(e,t,function(e){a(ie(e))},function(e){a(se(e))})}}(t,a))},addProduct:function(t){e(B()),e(function(e){return function(t){t(te()),he.addProd(e,function(e){t(ae(e))},function(e){t(ne(e))})}}(t))}}})(ke),_e=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).submitHandler=function(e){e.preventDefault();var t=e.currentTarget;if(t.className+=" was-validated",t.checkValidity()){var n=a.state,r=n.name,o=n.currentCatId;o?a.props.saveCategory(o,{name:r}):a.props.addCategory({name:r})}},a.changeHandler=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(O.a)({},t,n))},a.state={show:!1,name:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.currentCatId;return r.a.createElement(b.a,{show:this.state.show,onHide:this.props.closeModal,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(h.a,{onSubmit:this.submitHandler,noValidate:!0},r.a.createElement(b.a.Header,{closeButton:!0},r.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},e?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438")),r.a.createElement(b.a.Body,null,r.a.createElement(h.a.Group,{as:E.a,controlId:"formName"},r.a.createElement(h.a.Label,{column:!0,sm:4},"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),r.a.createElement(p.a,{sm:8},r.a.createElement(h.a.Control,{name:"name",type:"text",value:this.state.name,onChange:this.changeHandler,required:!0,pattern:"^([\\w\\s\\W]{5,50})$"}),r.a.createElement(h.a.Control.Feedback,{type:"invalid"},"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 5 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432, \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 40")))),r.a.createElement(b.a.Footer,null,r.a.createElement(y.a,{type:"submit"},e?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),r.a.createElement(y.a,{variant:"light",onClick:this.props.closeModal},"\u041e\u0442\u043c\u0435\u043d\u0430"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.show===e.show&&t.show)return null;var a=e.currentCatId?e.categories[e.currentCatId]:{name:""};return Object(ve.a)({show:e.show,currentCatId:e.currentCatId},a)}}]),t}(r.a.Component),Te=Object(c.b)(function(e){return{categories:e.page.categories,currentCatId:e.page.currentCatId,newCat:e.page.newCat}},function(e){return{closeModal:function(){e(B())},saveCategory:function(t,a){e(B()),e(function(e,t){return function(a){a(ue()),he.saveCat(e,t,function(e){a(de(e))},function(e){a(me(e))})}}(t,a))},addCategory:function(t){e(B()),e(function(e){return function(t){t(re()),he.addCat(e,function(e){t(oe(e))},function(e){t(ce(e))})}}(t))}}})(_e),we=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.modal;return r.a.createElement("div",null,r.a.createElement(Ce,{show:"LOGIN_MODAL"===e}),r.a.createElement(De,{show:"EDIT_PRODUCT_MODAL"===e}),r.a.createElement(Te,{show:"EDIT_CATEGORY_MODAL"===e}))}}]),t}(r.a.Component),Pe=Object(c.b)(function(e){return{modal:e.page.modal}},function(e){return{}})(we),Ae=a(130),Le=a(134),Ge=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.categories,a=e.goods,n=e.showProduct,o=e.showCategory;return r.a.createElement(Ae.a,null,Object.keys(t).map(function(e){return r.a.createElement(Le.a,{key:"card".concat(e)},r.a.createElement(Ae.a.Toggle,{as:Le.a.Header,eventKey:e,onClick:function(){o(e)}},t[e].name),r.a.createElement(Ae.a.Collapse,{eventKey:e},r.a.createElement(Le.a.Body,{style:{paddingTop:"0",paddingBottom:"12px"}},Object.keys(a).filter(function(t){return a[t].category===e}).map(function(t){return r.a.createElement(y.a,{variant:"link",size:"sm",block:!0,style:{textAlign:"left",padding:"6px 0 0 0"},key:"card".concat(e,"_").concat(t),onClick:function(){return n(t)}},a[t].name)}),0===Object.keys(a).filter(function(t){return a[t].category===e}).length&&r.a.createElement("div",null,"\u0412 \u044d\u0442\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043d\u0435\u0442 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"))))}))}}]),t}(r.a.Component),Re=Object(c.b)(function(e){return{isLoggedIn:e.page.isLoggedIn,categories:e.page.categories,goods:e.page.goods}},function(e){return{showProduct:function(t){e(F(t))},showCategory:function(t){e(Y(t))}}})(Ge),Ue=a(124),xe=a(125),Ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={confirm:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"hideConfirm",value:function(){this.setState({confirm:!1})}},{key:"showConfirm",value:function(){this.setState({confirm:!0})}},{key:"del",value:function(){this.setState({confirm:!1}),this.props.delProduct(this.props.currentProdId)}},{key:"render",value:function(){var e=this.props,t=e.currentProdId,a=e.categories,n=e.goods,o=e.editProduct,c=n[t];return r.a.createElement("div",null,r.a.createElement("h3",null,"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0442\u043e\u0432\u0430\u0440\u0430"),r.a.createElement(Ue.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430"),r.a.createElement("th",null,"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("td",null,c.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0426\u0435\u043d\u0430"),r.a.createElement("td",null,c.price)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u0421\u0440\u043e\u043a \u0433\u043e\u0434\u043d\u043e\u0441\u0442\u0438"),r.a.createElement("td",null,c.expirationDate)),r.a.createElement("tr",null,r.a.createElement("td",null,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),r.a.createElement("td",null,a[c.category].name)))),r.a.createElement(xe.a,null,r.a.createElement(y.a,{variant:"success",size:"sm",onClick:o,style:{marginRight:"20px"}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(y.a,{variant:"danger",size:"sm",onClick:this.showConfirm.bind(this)},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),r.a.createElement(b.a,{show:this.state.confirm,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(b.a.Header,null,r.a.createElement(b.a.Title,null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440?")),r.a.createElement(b.a.Footer,null,r.a.createElement(y.a,{variant:"secondary",onClick:this.hideConfirm.bind(this)},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(y.a,{variant:"danger",onClick:this.del.bind(this)},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}}]),t}(r.a.Component),He=Object(c.b)(function(e){return{currentProdId:e.page.currentProdId,categories:e.page.categories,goods:e.page.goods}},function(e){return{editProduct:function(){e(J("EDIT_PRODUCT_MODAL"))},delProduct:function(t){e(B()),e(function(e){return function(t){t(ge()),he.delProd(e,function(e){t(fe(e))},function(e){t(Ee(e))})}}(t))}}})(Ne),Me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={confirm:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.currentCatId,n=t.categories,o=t.editCategory,c=t.delCategory,l=n[a];return r.a.createElement("div",null,r.a.createElement("h3",null,"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),r.a.createElement(Ue.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430"),r.a.createElement("th",null,"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("td",null,l.name)))),r.a.createElement(xe.a,null,r.a.createElement(y.a,{variant:"success",size:"sm",onClick:o,style:{marginRight:"20px"}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(y.a,{variant:"danger",size:"sm",onClick:function(){return e.setState({confirm:!0})}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),r.a.createElement(b.a,{show:this.state.confirm,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(b.a.Header,null,r.a.createElement(b.a.Title,null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e?")),r.a.createElement(b.a.Footer,null,r.a.createElement(y.a,{variant:"secondary",onClick:function(){e.setState({confirm:!1})}},"\u041e\u0442\u043c\u0435\u043d\u0430"),r.a.createElement(y.a,{variant:"danger",onClick:function(){e.setState({confirm:!1}),c(a)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))}}]),t}(r.a.Component),Ve=Object(c.b)(function(e){return{currentCatId:e.page.currentCatId,categories:e.page.categories}},function(e){return{editCategory:function(){e(J("EDIT_CATEGORY_MODAL"))},delCategory:function(t){e(B()),e(function(e){return function(t){t(pe()),he.delCat(e,function(e){t(Oe(e))},function(e){t(be(e))})}}(t))}}})(Me),Fe=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentProdId,a=e.currentCatId,n=e.openModal,o=e.logout,c=e.newCategory,l=e.newProduct;return r.a.createElement(m.a,{fluid:"true"},r.a.createElement(g.a,{bg:"dark",variant:"dark",expand:"md"},r.a.createElement(g.a.Brand,null," \u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"),r.a.createElement(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(g.a.Collapse,{id:"basic-navbar-nav"},!this.props.isLoggedIn&&r.a.createElement(f.a,{className:"mr-auto"},r.a.createElement(f.a.Link,{onClick:function(){n("LOGIN_MODAL")}},"\u0412\u043e\u0439\u0442\u0438")),this.props.isLoggedIn&&r.a.createElement(f.a,{className:"mr-auto"},r.a.createElement(f.a.Link,{onClick:c},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"),r.a.createElement(f.a.Link,{onClick:l},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"),r.a.createElement(f.a.Link,{onClick:o},"\u0412\u044b\u0439\u0442\u0438")))),this.props.isLoggedIn&&r.a.createElement(E.a,null,r.a.createElement(p.a,{md:4},r.a.createElement(Re,null)),r.a.createElement(p.a,{md:8},t&&r.a.createElement(He,null),a&&r.a.createElement(Ve,null))),!this.props.isLoggedIn&&r.a.createElement(E.a,null,r.a.createElement("div",{className:"d-block mx-auto",style:{textAlign:"center",padding:"100px 10px"}},"\u0414\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0430 \u043d\u0435\u043e\u0431\u043e\u0434\u0438\u043c\u043e \u0432\u043e\u0439\u0442\u0438 \u0432 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435")),r.a.createElement(Pe,null))}}]),t}(r.a.Component),Ye=Object(c.b)(function(e){return{isLoggedIn:e.page.isLoggedIn,currentProdId:e.page.currentProdId,currentCatId:e.page.currentCatId}},function(e){return{openModal:function(t){e(J(t))},logout:function(){e(Q())},newCategory:function(){e(z()),e(J("EDIT_CATEGORY_MODAL"))},newProduct:function(){e(W()),e(J("EDIT_PRODUCT_MODAL"))}}})(Fe),Je=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.initFakeApi()}},{key:"render",value:function(){return r.a.createElement(Ye,null)}}]),t}(r.a.Component),Be=Object(c.b)(function(e){return{}},function(e){return{initFakeApi:function(){e(ye())}}})(Je),Qe=a(33),ze=a(81),We=a(82),qe={isLoggedIn:!1,goods:null,categories:null,currentProdId:null,currentCatId:null,modal:null};var Ke=Object(Qe.c)({page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(ve.a)({},e,{isLoggedIn:!0});case S:return Object(ve.a)({},e,{isLoggedIn:!1});case w:return Object(ve.a)({},e,{newCat:!1,currentProdId:t.payload,currentCatId:null});case P:return Object(ve.a)({},e,{newCat:!1,currentCatId:t.payload,currentProdId:null});case k:case D:return Object(ve.a)({},e,{currentCatId:null,currentProdId:null});case T:return Object(ve.a)({},e,{modal:t.payload});case _:return Object(ve.a)({},e,{modal:null});case A:case R:case x:return Object(ve.a)({},e,{categories:t.payload});case H:return Object(ve.a)({},e,{categories:t.payload.cats,goods:t.payload.goods,currentCatId:null});case L:case G:case U:return Object(ve.a)({},e,{goods:t.payload});case N:return Object(ve.a)({},e,{goods:t.payload,currentProdId:null});default:return e}}}),$e="undefined"!==typeof window&&window.devToolsExtension?window.devToolsExtension:function(){return function(e){return e}},Xe=function(e){var t=[Object(Qe.a)(We.a,Object(ze.createLogger)({diff:!0,collapsed:!0})),$e({maxAge:5e3})];return Object(Qe.e)(Ke,e,Qe.d.apply(void 0,t))}();Object(o.render)(r.a.createElement(c.a,{store:Xe},r.a.createElement(Be,null)),document.getElementById("root"))},83:function(e,t,a){e.exports=a(119)}},[[83,1,2]]]);
//# sourceMappingURL=main.00802b99.chunk.js.map